(this.webpackJsonpmycroft=this.webpackJsonpmycroft||[]).push([[0],{20:function(e){e.exports=JSON.parse("{}")},42:function(e,t,a){e.exports={formWrapper:"LoginForm_formWrapper__3uzRr",formSignin:"LoginForm_formSignin__1E3CM",checkbox:"LoginForm_checkbox__39TGO","form-control":"LoginForm_form-control__2Bhgs",footer:"LoginForm_footer__1vOqs"}},43:function(e,t,a){e.exports={formWrapper:"RegisterForm_formWrapper__1weup",formRegister:"RegisterForm_formRegister__1b8AC",checkbox:"RegisterForm_checkbox__2yFwt","form-control":"RegisterForm_form-control__1ZTWX",footer:"RegisterForm_footer__21xEE"}},62:function(e,t,a){e.exports={navLogo:"NavigationBar_navLogo__3KQFf"}},63:function(e,t,a){e.exports=a(94)},68:function(e,t,a){},69:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),l=a.n(o),i=(a(68),a(69),a(6)),s=a(21),c=a(9),m=a(10),u=a(13),g=a(12),p=a(11),h=a(42),d=a.n(h),f=a(7),b=a(17),_=a(29),E=a(5),v=a(41),y=a(19),C=a.n(y),O=a(20),k=function(e,t){return C.a.post("/api/login",{username:e,password:t},O)},w=function(e,t){return C.a.post("/api/register",{username:e,password:t},O)},S=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",error_message:""},n.inputChangeHandler=n.inputChangeHandler.bind(Object(u.a)(n)),n.formSubmitHandler=n.formSubmitHandler.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"inputChangeHandler",value:function(e){var t=e.target,a=t.name,n=t.value;""!==this.state.error_message&&this.setState({error_message:""}),this.setState(Object(s.a)({},a,n))}},{key:"formSubmitHandler",value:function(e){var t=this;e.preventDefault();var a=this.state.username,n=this.state.password;""!==this.state.error_message&&this.setState({error_message:""}),k(a,n).then((function(e){localStorage.setItem("auth_token",e.data.access_token),localStorage.setItem("username",a),t.props.history.push("/triggers")})).catch((function(e){t.setState({error_message:e.response.data.exception||"Invalid Username or Password"})}))}},{key:"render",value:function(){var e=""===this.state.error_message?null:r.a.createElement(v.a,{variant:"danger"},this.state.error_message);return r.a.createElement("div",{className:d.a.formWrapper},r.a.createElement(E.a,{id:"login-form",className:d.a.formSignin,onSubmit:this.formSubmitHandler},r.a.createElement(_.a,{className:"mb-4",alt:"Mycroft - Water",src:"/assets/logo.png"}),r.a.createElement("h1",{className:"h3 mb-3"},"Mycroft"),e,r.a.createElement(E.a.Label,{htmlFor:"inputUsername",srOnly:!0},"Username"),r.a.createElement(E.a.Control,{type:"text",id:"inputUsername",name:"username",placeholder:"Username",required:!0,autoFocus:!0,value:this.state.username,onChange:this.inputChangeHandler}),r.a.createElement(E.a.Label,{htmlFor:"inputPassword",srOnly:!0},"Password"),r.a.createElement(E.a.Control,{type:"password",id:"inputPassword",name:"password",placeholder:"Password",required:!0,value:this.state.password,onChange:this.inputChangeHandler}),r.a.createElement(b.a,{type:"submit",block:!0,size:"lg"},"Sign in"),r.a.createElement(f.b,{to:"/register"},"Create an new account"),r.a.createElement("p",{className:"mt-3 mb-3 text-muted "+d.a.footer},"Team Water")))}}]),a}(n.Component),j=Object(i.f)(S),H=a(43),N=a.n(H),F=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",error_message:""},n.inputChangeHandler=n.inputChangeHandler.bind(Object(u.a)(n)),n.formSubmitHandler=n.formSubmitHandler.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"inputChangeHandler",value:function(e){var t=e.target,a=t.name,n=t.value;""!==this.state.error_message&&this.setState({error_message:""}),this.setState(Object(s.a)({},a,n))}},{key:"formSubmitHandler",value:function(e){var t=this;e.preventDefault();var a=this.state.username,n=this.state.password;""!==this.state.error_message&&this.setState({error_message:""}),w(a,n).then((function(e){k(a,n).then((function(e){localStorage.setItem("auth_token",e.data.access_token),localStorage.setItem("username",a),t.props.history.push("/triggers")}))})).catch((function(e){t.setState({error_message:e.response.data.exception||"Invalid Username or Password"})}))}},{key:"render",value:function(){var e=""===this.state.error_message?null:r.a.createElement(v.a,{variant:"danger"},this.state.error_message);return r.a.createElement("div",{className:N.a.formWrapper},r.a.createElement(E.a,{id:"register-form",className:N.a.formRegister,onSubmit:this.formSubmitHandler},r.a.createElement(_.a,{className:"mb-4",alt:"Mycroft - Water",src:"/assets/logo.png"}),r.a.createElement("h1",{className:"h3 mb-3"},"Mycroft"),e,r.a.createElement(E.a.Label,{htmlFor:"inputUsername",srOnly:!0},"Username"),r.a.createElement(E.a.Control,{type:"text",id:"inputUsername",name:"username",placeholder:"Username",required:!0,autoFocus:!0,value:this.state.username,onChange:this.inputChangeHandler}),r.a.createElement(E.a.Label,{htmlFor:"inputPassword",srOnly:!0},"Password"),r.a.createElement(E.a.Control,{type:"password",id:"inputPassword",name:"password",placeholder:"Password",required:!0,value:this.state.password,onChange:this.inputChangeHandler}),r.a.createElement(b.a,{type:"submit",block:!0,size:"lg"},"Create an account"),r.a.createElement(f.b,{to:"/login"},"Sign in with an existing user"),r.a.createElement("p",{className:"mt-3 mb-3 text-muted "+N.a.footer},"Team Water")))}}]),a}(n.Component),x=Object(i.f)(F),L=function(e){return e.children},T=a(34),I=a(62),D=a.n(I),z=a(49),W=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).logoutClickHandler=function(e){localStorage.removeItem("username"),localStorage.removeItem("auth_token"),n.props.history.push("/login")},n.username=localStorage.getItem("username"),n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(T.a,{bg:"dark",variant:"dark"},r.a.createElement(T.a.Brand,null,r.a.createElement(_.a,{src:"/assets/logo.png",alt:"Mycroft - Water",className:"mr-2 "+D.a.navLogo}),"Mycroft"),r.a.createElement(T.a.Toggle,{"aria-controls":""}),r.a.createElement(T.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(z.a,{className:"mr-auto"},r.a.createElement(f.c,{to:"/triggers",className:"text-light",activeClassName:"active"},"Triggers"),r.a.createElement(f.c,{to:"/operations",className:"text-light ml-4",activeClassName:"active"},"Operations"),r.a.createElement(f.c,{to:"/tasks",className:"text-light ml-4",activeClassName:"active"},"Tasks")),r.a.createElement(z.a,null,r.a.createElement(T.a.Text,{className:"mr-3"},"Sign in as ",r.a.createElement("strong",null,this.username)),r.a.createElement(b.a,{variant:"info",onClick:this.logoutClickHandler},"Logout"))))}}]),a}(n.Component),M=Object(i.f)(W),P=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(L,null,r.a.createElement(M,null))}}]),a}(n.Component),U=Object(i.f)(P),q=a(39),R=a(24),B=a(33),A=a(38),Z=function(e,t){return Object(R.a)(Object(R.a)({},e),{},{headers:{Authorization:"Bearer ".concat(t)}})},G=function(){return C.a.get("api/triggers",Z(O,localStorage.getItem("auth_token")))},J=function(e){return C.a.post("api/triggers",e,Z(O,localStorage.getItem("auth_token")))},V=function(e){return C.a.delete("api/triggers/"+e,Z(O,localStorage.getItem("auth_token")))},K=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).triggerTableHeaders=["#","Name","Type","Actions"],n.state={triggers:[],new_trigger_name:"",new_trigger_type:"Schedule",new_trigger_schedule_time:"00:00"},n.inputChangeHandler=n.inputChangeHandler.bind(Object(u.a)(n)),n.formSubmitHandler=n.formSubmitHandler.bind(Object(u.a)(n)),n.triggerDeleteClickHandler=n.triggerDeleteClickHandler.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"inputChangeHandler",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(s.a)({},a,n))}},{key:"componentDidMount",value:function(){var e=this;G().then((function(t){e.setState({triggers:t.data.triggers})}))}},{key:"getOtherFields",value:function(){return"Schedule"===this.state.new_trigger_type?r.a.createElement(L,null,r.a.createElement(E.a.Label,{htmlFor:"trigger-schedule-time",className:"pt-4"},"Time"),r.a.createElement(E.a.Control,{type:"time",id:"trigger-schedule-time",name:"new_trigger_schedule_time",value:this.state.new_trigger_schedule_time,onChange:this.inputChangeHandler})):null}},{key:"formSubmitHandler",value:function(e){var t=this;e.preventDefault();var a=this.state.new_trigger_name,n=this.state.new_trigger_type,r={};"Schedule"===n&&(r={time:this.state.new_trigger_schedule_time});var o=Object(R.a)({name:a,type:n},r);J(o).then((function(e){G().then((function(e){t.setState({triggers:e.data.triggers})}))}))}},{key:"triggerDeleteClickHandler",value:function(e){var t=this,a=e.target.parentElement.parentElement.children[1].innerHTML;V(a).then((function(e){G().then((function(e){t.setState({triggers:e.data.triggers})}))}))}},{key:"render",value:function(){var e=this,t=this.state.triggers.map((function(t,a){return r.a.createElement("tr",{key:"trigger_row_"+a},r.a.createElement("td",null,a+1),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.type),r.a.createElement("td",null,r.a.createElement(b.a,{size:"sm",onClick:e.triggerDeleteClickHandler},"Delete")))})),a=this.getOtherFields();return r.a.createElement("div",{className:"pt-3"},r.a.createElement("h4",null,"Trigger List"),r.a.createElement(B.a,null,r.a.createElement(A.a,{className:"trigger-table",striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,this.triggerTableHeaders.map((function(e){return r.a.createElement("th",{key:"header_"+e},e)})))),r.a.createElement("tbody",null,t))),r.a.createElement("h4",null,"Create a New Trigger"),r.a.createElement(E.a,{id:"create-trigger-form",onSubmit:this.formSubmitHandler},r.a.createElement(E.a.Group,{as:B.a,controlId:"formTriggerName"},r.a.createElement(E.a.Label,{htmlFor:"trigger-name"},"Name"),r.a.createElement(E.a.Control,{type:"text",id:"trigger-name",name:"new_trigger_name",placeholder:"Trigger Name",required:!0,value:this.state.new_trigger_name,onChange:this.inputChangeHandler}),r.a.createElement(E.a.Label,{htmlFor:"trigger-type",className:"pt-4"},"Type"),r.a.createElement(E.a.Control,{as:"select",id:"trigger-type",name:"new_trigger_type",defaultValue:"Choose...",required:!0,value:this.state.new_trigger_type,onChange:this.inputChangeHandler},r.a.createElement("option",null,"Schedule")),a),r.a.createElement(b.a,{type:"submit",size:"lg"},"Create")))}}]),a}(n.Component),Q=Object(i.f)(K),X=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(L,null,r.a.createElement(M,null),r.a.createElement(q.a,null,r.a.createElement(Q,null)))}}]),a}(n.Component),$=Object(i.f)(X),Y=function(){return C.a.get("api/operations",Z(O,localStorage.getItem("auth_token")))},ee=function(e){return C.a.post("api/operations",e,Z(O,localStorage.getItem("auth_token")))},te=function(e){return C.a.delete("api/operations/"+e,Z(O,localStorage.getItem("auth_token")))},ae=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).operationTableHeaders=["#","Name","Type","Actions"],n.state={operations:[],new_operation_name:"",new_operation_type:"Zoom",new_operation_zoom_link:""},n.inputChangeHandler=n.inputChangeHandler.bind(Object(u.a)(n)),n.operationDeleteClickHandler=n.operationDeleteClickHandler.bind(Object(u.a)(n)),n.formSubmitHandler=n.formSubmitHandler.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;Y().then((function(t){e.setState({operations:t.data.operations})}))}},{key:"inputChangeHandler",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(s.a)({},a,n))}},{key:"operationDeleteClickHandler",value:function(e){var t=this,a=e.target.parentElement.parentElement.children[1].innerHTML;te(a).then((function(e){Y().then((function(e){t.setState({operations:e.data.operations})}))}))}},{key:"formSubmitHandler",value:function(e){var t=this;e.preventDefault();var a=this.state.new_operation_name,n=this.state.new_operation_type,r={};"Zoom"===n&&(r={link:this.state.new_operation_zoom_link});var o=Object(R.a)({name:a,type:n},r);ee(o).then((function(e){Y().then((function(e){t.setState({operations:e.data.operations})}))}))}},{key:"getOtherFields",value:function(){if("Zoom"===this.state.new_operation_type)return r.a.createElement(L,null,r.a.createElement(E.a.Label,{htmlFor:"operation-zoom-link",className:"pt-4"},"Link"),r.a.createElement(E.a.Control,{type:"text",id:"operation-zoom-link",name:"new_operation_zoom_link",value:this.state.new_operation_zoom_link,onChange:this.inputChangeHandler}))}},{key:"render",value:function(){var e=this,t=this.state.operations.map((function(t,a){return r.a.createElement("tr",{key:"operation_row_"+a},r.a.createElement("td",null,a+1),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.type),r.a.createElement("td",null,r.a.createElement(b.a,{size:"sm",onClick:e.operationDeleteClickHandler},"Delete")))})),a=this.getOtherFields();return r.a.createElement("div",{className:"pt-3"},r.a.createElement("h4",null,"Operation List"),r.a.createElement(B.a,null,r.a.createElement(A.a,{className:"operation-table",striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,this.operationTableHeaders.map((function(e){return r.a.createElement("th",{key:"header_"+e},e)})))),r.a.createElement("tbody",null,t))),r.a.createElement("h4",null,"Create a New Operation"),r.a.createElement(E.a,{id:"create-operation-form",onSubmit:this.formSubmitHandler},r.a.createElement(E.a.Group,{as:B.a,controlId:"formOperationName"},r.a.createElement(E.a.Label,{htmlFor:"operation-name"},"Name"),r.a.createElement(E.a.Control,{type:"text",id:"operation-name",name:"new_operation_name",placeholder:"Operation Name",required:!0,value:this.state.new_operation_name,onChange:this.inputChangeHandler}),r.a.createElement(E.a.Label,{htmlFor:"operation-type",className:"pt-4"},"Type"),r.a.createElement(E.a.Control,{as:"select",id:"operation-type",name:"new_operation_type",defaultValue:"Choose...",required:!0,value:this.state.new_operation_type,onChange:this.inputChangeHandler},r.a.createElement("option",null,"Zoom")),a),r.a.createElement(b.a,{type:"submit",size:"lg"},"Create")))}}]),a}(n.Component),ne=Object(i.f)(ae),re=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(L,null,r.a.createElement(M,null),r.a.createElement(q.a,null,r.a.createElement(ne,null)))}}]),a}(n.Component),oe=Object(i.f)(re);var le=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0},r.a.createElement(j,null)),r.a.createElement(i.a,{path:"/login"},r.a.createElement(j,null)),r.a.createElement(i.a,{path:"/register"},r.a.createElement(x,null)),r.a.createElement(i.a,{path:"/triggers"},r.a.createElement($,null)),r.a.createElement(i.a,{path:"/operations"},r.a.createElement(oe,null)),r.a.createElement(i.a,{path:"/tasks"},r.a.createElement(U,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(93);var ie=r.a.createElement(f.a,null,r.a.createElement(le,null));l.a.render(r.a.createElement(r.a.StrictMode,null,ie),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[63,1,2]]]);
//# sourceMappingURL=main.6f34c555.chunk.js.map